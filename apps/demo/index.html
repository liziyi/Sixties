<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="css/blitzer/jquery-ui-1.7.2.custom.css" /> 
<link rel="stylesheet" type="text/css" href="js/tree/tree_component.css" />
<link rel="stylesheet" type="text/css" href="css/form.css" />
<link rel="stylesheet" type="text/css" href="css/layout.css" />
<title>Test</title>
</head>
<body>
	<div id="header">
        <a class="botton" onclick="xmpp.connect('/root');" href="#">Connect</a>
        <a class="botton" onclick="xmpp.nodeGetConfiguration('/root');" href="#">Get Node default configuration</a>
	</div>
	<div id="body">
		<div id="col_left">
		    <form>
		      <fieldset>
                <a class="botton" onclick="xmpp.discoServices();" href="#" title="refresh tree" style='float: right'><span class="ui-icon ui-icon-refresh" /></a>
                <input type="text" id="tree_search_box" />
                <input type="button" id="tree_search_button" value="search" onclick="tree.search($('#tree_search_box').val())" />  
              </fieldset>
		    </form>
			<div class='tree'>
				<ul id="main_tree">
				</ul>
			</div>
		</div>
		<div id="col_right">
			<ul id="messages">
			</ul>
		</div>
		<div id="col_center" style="display: none">
			<div id="tabs">
			    <ul>
			        <li><a href="#tabs-main">Main</a></li>
                    <li><a href="#tabs-node">Node</a></li>
                    <li><a href="#tabs-subs">Your subscriptions</a></li>
			    </ul>
			    <div id="tabs-main">
                    <div id="main_node"></div>
			    </div>
                <div id="tabs-node">
                  <div>
                    <a class="botton" onclick="xmpp.affiliationsGet(xmpp.current_node);xmpp.subscriptionsGet(xmpp.current_node);" href="#"><span class="ui-icon ui-icon-refresh" ></span>Refresh</a>
                  </div>
                  <h2>Subscriptions</h2>
                    <table id='node_subscriptions' summary='List of subscriptions to the node'>
                      <thead>
                        <tr>
                          <th>Jid</th>
                          <th>Node</th>
                          <th>Subscription ID</th>
                          <th>Subscription</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="5">&nbsp;</td>
                        </tr>
                      </tfoot>
                    </table>
                  <h2>Affiliations</h2>
                    <table id='node_affiliations' summary='List of affiliations of the node'>
                      <thead>
                        <tr>
                          <th>Jid</th>
                          <th>Node</th>
                          <th>Affiliation</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="4">&nbsp;</td>
                        </tr>
                      </tfoot>
                    </table>
                    <h2>Actions</h2>
                    <div id="node_actions"></div>
                    <h2>Items</h2>
                    <div id="node_items"></div>
                </div>
                <div id="tabs-subs">
                  <div>
                    <a class="botton" onclick="xmpp.affiliationsGet();xmpp.subscriptionsGet();" href="#"><span class="ui-icon ui-icon-refresh"></span>Refresh</a>
                  </div>
                  <h2>You</h2>
                    <table id='subscriptions' summary='List of your subscriptions'>
                      <thead>
                        <tr>
                          <th>Jid</th>
                          <th>Node</th>
                          <th>Subscription ID</th>
                          <th>Subscription</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="5">&nbsp;</td>
                        </tr>
                      </tfoot>
                    </table>
                  <h2>Your affiliations</h2>
                    <table id='affiliations'>
                      <thead>
                        <tr>
                          <th>Jid</th>
                          <th>Node</th>
                          <th>Affiliation</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="4">&nbsp;</td>
                        </tr>
                      </tfoot>
                    </table>
                </div>
			</div>
	   </div>
		<br style="clear: both" " />
	</div>
	<div id="footer">
Clochix 2009 Cf <a href="https://labo.clochix.net/projects/show/sixties" target="_blank">Sixties</a>
	</div>
    <div id="main_form"></div>
    <!-- jQuery and UI -->
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.7.2.custom.min.js"></script>
    <!-- jsTree -->
    <script type="text/javascript" src="js/tree/css.js"></script>
    <script type="text/javascript" src="js/tree/tree_component.js"></script>
    <!-- base64 -->
    <script type="text/javascript" src="js/jquery.base64.js"></script>
    <!-- sixties -->
    <script type="text/javascript" src="js/sixties.js"></script>
    <script type="text/javascript" src="registars.php"></script>
    <!-- init -->
	<script type="text/javascript">/*<![CDATA[*/
	var tree;
	var nodes={}
	var xmpp;
	var formStylesheet;
	var treeConfig;
	var dialog;
	$(document).ready(function(){
      $('#tabs').tabs();
      $('#col_center').show();
      xmpp = new bbXmpp();
      treeConfig = {
          data : {},
          ui: {
            context: false
          },
          rules : {
          },
          callback : {
            onselect : xmpp.treeNodeSelected
          }
      }
	  tree = $.tree_create();
	  tree.init('#main_tree', treeConfig);
	  $('#main_form').dialog({autoOpen: false, hide: 'puff', modal: true, show: 'bounce', width: 'auto'})
	  xmpp.init();
	});
	/*]]>*/</script>
</body>
</html>